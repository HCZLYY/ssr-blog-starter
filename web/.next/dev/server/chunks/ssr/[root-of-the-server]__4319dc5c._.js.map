{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///E:/%E5%AD%97%E8%8A%82-%E8%AF%BE%E5%90%8E%E4%BD%9C%E4%B8%9A-2/Github/ssr-blog-starter/web/pages/index.js"],"sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\nimport Link from 'next/link';\r\n\r\nexport async function getServerSideProps(context) {\r\n    const page = context.query.page || 1;\r\n    try {\r\n        const res = await axios.get(`${process.env.API_BASE}/api/v1/articles?page=${page}`);\r\n        return { props: { articles: res.data } };\r\n    } catch (err) {\r\n        return { props: { articles: [], degraded: true } };\r\n    }\r\n}\r\n\r\nexport default function Home({ articles, degraded }) {\r\n    return (\r\n        <div>\r\n            {degraded && <div style={{ color: 'orange' }}>数据暂不可用，页面已降级</div>}\r\n            <h1>文章列表</h1>\r\n            <ul>\r\n                {articles && articles.map(a => (\r\n                    <li key={a.id}>\r\n                        <h2><Link href={`/articles/${a.id}`}>{a.title}</Link></h2>\r\n                        <p>{a.summary}</p>\r\n                    </li>\r\n                ))}\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;;;;;;;;;AAEO,eAAe,mBAAmB,OAAO;IAC5C,MAAM,OAAO,QAAQ,KAAK,CAAC,IAAI,IAAI;IACnC,IAAI;QACA,MAAM,MAAM,MAAM,qHAAK,CAAC,GAAG,CAAC,6DAAwB,sBAAsB,EAAE,MAAM;QAClF,OAAO;YAAE,OAAO;gBAAE,UAAU,IAAI,IAAI;YAAC;QAAE;IAC3C,EAAE,OAAO,KAAK;QACV,OAAO;YAAE,OAAO;gBAAE,UAAU,EAAE;gBAAE,UAAU;YAAK;QAAE;IACrD;AACJ;AAEe,SAAS,KAAK,EAAE,QAAQ,EAAE,QAAQ,EAAE;IAC/C,qBACI,qKAAC;;YACI,0BAAY,qKAAC;gBAAI,OAAO;oBAAE,OAAO;gBAAS;0BAAG;;;;;;0BAC9C,qKAAC;0BAAG;;;;;;0BACJ,qKAAC;0BACI,YAAY,SAAS,GAAG,CAAC,CAAA,kBACtB,qKAAC;;0CACG,qKAAC;0CAAG,cAAA,qKAAC,gIAAI;oCAAC,MAAM,CAAC,UAAU,EAAE,EAAE,EAAE,EAAE;8CAAG,EAAE,KAAK;;;;;;;;;;;0CAC7C,qKAAC;0CAAG,EAAE,OAAO;;;;;;;uBAFR,EAAE,EAAE;;;;;;;;;;;;;;;;AAQjC"}}]
}